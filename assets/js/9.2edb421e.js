(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{443:function(s,e,t){"use strict";t.r(e);var _=t(24),v=Object(_.a)({},(function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"æ·±å…¥ç†è§£resource-qos"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æ·±å…¥ç†è§£resource-qos"}},[s._v("#")]),s._v(" æ·±å…¥ç†è§£Resource QoS")]),s._v(" "),t("blockquote",[t("p",[s._v("ä½œè€…å¹³æ—¶ä¹Ÿå¾—å·¥ä½œå’Œå¹²æ´»~ï¼Œå°½é‡åœ¨æœ‰ç©ºçš„æ—¶å€™ä¸æ–­çš„å»æ›´æ–°è¯¥åšå®¢...")]),s._v(" "),t("p",[s._v("å¦‚æœæœ‰ç›¸å…³é—®é¢˜æˆ–åé¦ˆï¼Œå¯ä»¥åŠ ä½œè€…å¾®ä¿¡ï¼ˆå¾®ä¿¡å·ï¼šSPE3SRU3STAYï¼‰")])]),s._v(" "),t("br"),s._v(" "),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"custom-block-title"},[s._v("å­¦ä¹ ä¸­çš„ç–‘é—®ï¼š")]),s._v(" "),t("p",[s._v("Kubernetesæ˜¯å¦‚ä½•æ ¹æ®Podçš„"),t("code",[s._v("Requestsé…ç½®å’ŒLimitsé…ç½®")]),s._v("ï¼Œæ¥å®ç°é’ˆå¯¹Podçš„èµ„æºæœåŠ¡è´¨é‡æ§åˆ¶ï¼ˆQoSï¼‰çš„å‘¢ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¸­éƒ½å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ")])]),s._v(" "),t("h2",{attrs:{id:"ä»€ä¹ˆæ˜¯requestså’Œlimits"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä»€ä¹ˆæ˜¯requestså’Œlimits"}},[s._v("#")]),s._v(" ä»€ä¹ˆæ˜¯Requestså’ŒLimits")]),s._v(" "),t("p",[s._v("åœ¨Kubernetesçš„QoSä½“ç³»ä¸­ï¼Œéœ€è¦ä¿è¯é«˜å¯é çš„Podå¯ä»¥ç”³è¯·"),t("code",[s._v("å¯é èµ„æº")]),s._v("ï¼Œè€Œä¸€äº›éé«˜å¯é æ€§çš„Podå¯ä»¥ç”³è¯·"),t("code",[s._v("å¯é æ€§è¾ƒä½")]),s._v("æˆ–"),t("code",[s._v("ä¸å¯é ")]),s._v("çš„èµ„æºã€‚")]),s._v(" "),t("p",[s._v("Podå®¹å™¨èµ„æºçš„é…ç½®åˆ†ä¸ºRequestså’ŒLimitsã€‚")]),s._v(" "),t("ul",[t("li",[s._v("Requestsï¼šæ˜¯Kubernetesè°ƒåº¦æ—¶èƒ½ä¸ºå®¹å™¨æä¾›å¯ä¿è¯çš„èµ„æºé‡ï¼ˆæœ€ä½ä¿éšœï¼‰ã€‚")]),s._v(" "),t("li",[s._v("Limitsï¼šæ˜¯ç³»ç»Ÿå…è®¸å®¹å™¨è¿è¡Œæ—¶å¯èƒ½ä½¿ç”¨çš„èµ„æºé‡çš„ä¸Šé™ï¼ˆæœ€é«˜ä¸Šé™ï¼‰ã€‚")])]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("å°æç¤ºï¼š")]),s._v(" "),t("p",[s._v("Podçº§åˆ«çš„èµ„æºé…ç½®æ˜¯é€šè¿‡è®¡ç®—Podå†…"),t("code",[s._v("æ‰€æœ‰å®¹å™¨èµ„æºé…ç½®")]),s._v("çš„æ€»å’Œå¾—å‡ºæ¥çš„ã€‚")])]),s._v(" "),t("h2",{attrs:{id:"è¶…å”®æœºåˆ¶"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#è¶…å”®æœºåˆ¶"}},[s._v("#")]),s._v(" è¶…å”®æœºåˆ¶")]),s._v(" "),t("p",[s._v("Kubernetesä¸­Podçš„Requestså’ŒLimitsèµ„æºé…ç½®æœ‰å¦‚ä¸‹ç‰¹ç‚¹ï¼š")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("å¦‚æœPodé…ç½®çš„Requestså€¼"),t("code",[s._v("ç­‰äº")]),s._v("Limitså€¼ï¼Œé‚£ä¹ˆè¯¥Podå¯ä»¥è·å¾—çš„èµ„æºæ˜¯"),t("code",[s._v("å®Œå…¨å¯é ")]),s._v("çš„ã€‚")])]),s._v(" "),t("li",[t("p",[s._v("å¦‚æœPodçš„Requestså€¼"),t("code",[s._v("å°äº")]),s._v("Limitså€¼ï¼Œé‚£ä¹ˆè¯¥Podè·å¾—èµ„æºå¯ä»¥åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†å…³æ³¨ï¼š")]),s._v(" "),t("ul",[t("li",[t("p",[t("code",[s._v("å®Œå…¨å¯é çš„èµ„æº")]),s._v("ï¼Œèµ„æºé‡çš„å¤§å°ç­‰äºRequestså€¼ï¼›")])]),s._v(" "),t("li",[t("p",[t("code",[s._v("ä¸å¯é çš„èµ„æº")]),s._v("ï¼Œèµ„æºé‡æœ€å¤§ç­‰äºLimitsä¸Requestsçš„å·®é¢ï¼Œè¿™ä»½ä¸å¯é çš„èµ„æºèƒ½å¤Ÿç”³è¯·å¤šå°‘ï¼Œå–å†³äºå½“æ—¶ä¸»æœºä¸Šå®¹å™¨å¯ç”¨èµ„æºçš„ä½™é‡ã€‚")])])])])]),s._v(" "),t("p",[s._v("é€šè¿‡è¿™ç§æœºåˆ¶ï¼ŒKuberneteså¯ä»¥å®ç°èŠ‚ç‚¹èµ„æºçš„è¶…å”®ï¼ˆOver Subscriptionï¼‰ï¼Œä¾‹å¦‚ï¼š")]),s._v(" "),t("details",{staticClass:"custom-block details"},[t("summary",[s._v("ç‚¹å‡»æŸ¥çœ‹ç¤ºä¾‹")]),s._v(" "),t("ul",[t("li",[s._v("åœ¨CPUå®Œå…¨å……è¶³çš„æƒ…å†µä¸‹ï¼ŒæŸæœºå™¨å…±æœ‰32GiBå†…å­˜å¯ä¾›å®¹å™¨ä½¿ç”¨ã€‚")]),s._v(" "),t("li",[s._v("å°†ä¸€ä¸ªå®¹å™¨çš„Requestså€¼ä¸º1GiBã€Limitså€¼ä¸º2GiBã€‚")]),s._v(" "),t("li",[s._v("é‚£ä¹ˆåœ¨è¯¥æœºå™¨ä¸Šæœ€å¤šå¯ä»¥åŒæ—¶è¿è¡Œ32ä¸ªå®¹å™¨ï¼Œæ¯ä¸ªå®¹å™¨æœ€å¤šå¯ä»¥ä½¿ç”¨2GiBå†…å­˜ã€‚")]),s._v(" "),t("li",[s._v("å¦‚æœè¿™äº›å®¹å™¨çš„"),t("code",[s._v("å†…å­˜ä½¿ç”¨å³°å€¼")]),s._v("èƒ½é”™å¼€ï¼Œé‚£ä¹ˆæ‰€æœ‰å®¹å™¨éƒ½å¯ä»¥æ­£å¸¸è¿è¡Œã€‚")])])]),s._v(" "),t("p",[s._v("è¶…å”®æœºåˆ¶èƒ½æœ‰æ•ˆæé«˜èµ„æºçš„åˆ©ç”¨ç‡ï¼Œä¹Ÿä¸ä¼šå½±å“å®¹å™¨ç”³è¯·çš„"),t("code",[s._v("å®Œå…¨å¯é èµ„æº")]),s._v("çš„å¯é æ€§.")]),s._v(" "),t("h2",{attrs:{id:"é™åˆ¶æœºåˆ¶"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#é™åˆ¶æœºåˆ¶"}},[s._v("#")]),s._v(" é™åˆ¶æœºåˆ¶")]),s._v(" "),t("p",[s._v("Requestså’ŒLimitså¯¹ä¸åŒè®¡ç®—èµ„æºç±»å‹çš„é™åˆ¶æœºåˆ¶")]),s._v(" "),t("p",[s._v("æ ¹æ®ä¸Šæ–‡çš„å†…å®¹å¯çŸ¥ï¼Œå®¹å™¨çš„èµ„æºé…ç½®æ»¡è¶³ä»¥ä¸‹ä¸¤ä¸ªæ¡ä»¶ï¼š")]),s._v(" "),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"custom-block-title"},[s._v("æ ¸å¿ƒæ¡ä»¶ï¼š")]),s._v(" "),t("ul",[t("li",[s._v("Requests <= èŠ‚ç‚¹å¯ç”¨èµ„æº")]),s._v(" "),t("li",[s._v("Requests <= Limits")])])]),s._v(" "),t("p",[s._v("Kubernetesæ ¹æ®Podé…ç½®çš„Requestså€¼æ¥è°ƒåº¦Podï¼ŒPodåœ¨æˆåŠŸè°ƒåº¦ä¹‹åä¼šå¾—åˆ°Requestså€¼å®šä¹‰çš„èµ„æºæ¥è¿è¡Œï¼›å¦‚æœPodæ‰€åœ¨æœºå™¨ä¸Šçš„èµ„æºæœ‰ç©ºä½™ï¼Œåˆ™Podå¯ä»¥ç”³è¯·æ›´å¤šçš„èµ„æºï¼Œæœ€å¤šä¸èƒ½è¶…è¿‡Limitsçš„å€¼ã€‚")]),s._v(" "),t("p",[s._v("ä¸‹é¢çœ‹ä¸€ä¸‹Requestså’ŒLimitsé’ˆå¯¹ä¸åŒè®¡ç®—èµ„æºç±»å‹çš„"),t("code",[s._v("é™åˆ¶æœºåˆ¶")]),s._v("çš„æœ‰ä»€ä¹ˆå·®å¼‚ï¼Œè¿™ç§å·®å¼‚ä¸»è¦å–å†³äºè®¡ç®—èµ„æºç±»å‹æ˜¯"),t("code",[s._v("å¯å‹ç¼©èµ„æº")]),s._v("è¿˜æ˜¯"),t("code",[s._v("ä¸å¯å‹ç¼©èµ„æº")]),s._v("ã€‚")]),s._v(" "),t("h3",{attrs:{id:"å¯å‹ç¼©èµ„æº"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å¯å‹ç¼©èµ„æº"}},[s._v("#")]),s._v(" å¯å‹ç¼©èµ„æº")]),s._v(" "),t("p",[s._v("Kubernetesç›®å‰æ”¯æŒçš„å¯å‹ç¼©èµ„æºæ˜¯CPUã€‚")]),s._v(" "),t("p",[s._v("Podå¯ä»¥å¾—åˆ°Requestsé…ç½®çš„CPUä½¿ç”¨é‡ï¼Œè€Œä½¿ç”¨è¶…è¿‡Requestså€¼çš„éƒ¨åˆ†å–å†³äº"),t("code",[s._v("ç³»ç»Ÿçš„è´Ÿè½½å’Œè°ƒåº¦")]),s._v("ã€‚")]),s._v(" "),t("blockquote",[t("p",[s._v("ä¸è¿‡ç”±äºç›®å‰Kuberneteså’ŒDockerçš„CPUéš”ç¦»æœºåˆ¶éƒ½æ˜¯åœ¨å®¹å™¨çº§åˆ«èµ·ä½œç”¨çš„ï¼Œæ‰€ä»¥Podçº§åˆ«çš„èµ„æºé…ç½®å¹¶ä¸èƒ½å®Œå…¨å¾—åˆ°ä¿éšœï¼›Podçº§åˆ«çš„cgroupæ­£åœ¨ç´§é”£å¯†é¼“çš„å¼€å‘ä¸­ï¼Œå¦‚æœå°†æ¥å¼•å…¥ï¼Œå°±å¯ä»¥ç¡®ä¿Podçº§åˆ«çš„èµ„æºé…ç½®å‡†ç¡®è¿è¡Œã€‚")])]),s._v(" "),t("p",[s._v("ç©ºé—²çš„CPUèµ„æºæŒ‰ç…§å®¹å™¨Requestså€¼çš„æ¯”ä¾‹åˆ†é…ã€‚ä¸¾ä¾‹è¯´æ˜ï¼š")]),s._v(" "),t("ul",[t("li",[s._v("å®¹å™¨Açš„CPUé…ç½®ä¸º"),t("code",[s._v("Requests 1")]),s._v("ã€"),t("code",[s._v("Limits 10")])]),s._v(" "),t("li",[s._v("å®¹å™¨Bçš„CPUé…ç½®ä¸º"),t("code",[s._v("Requests 2")]),s._v("ã€"),t("code",[s._v("Limits 8")])])]),s._v(" "),t("details",{staticClass:"custom-block details"},[t("summary",[s._v("ç‚¹å‡»æŸ¥çœ‹ç¤ºä¾‹")]),s._v(" "),t("blockquote",[t("p",[s._v("Aå’ŒBåŒæ—¶è¿è¡Œåœ¨ä¸€ä¸ªèŠ‚ç‚¹ä¸Šï¼Œåˆå§‹çŠ¶æ€ä¸‹å®¹å™¨çš„å¯ç”¨CPUä¸º"),t("code",[s._v("3 cores")]),s._v("ï¼Œé‚£ä¹ˆAå’ŒBæ°å¥½å¾—åˆ°åœ¨å…¶Requestsä¸­å®šä¹‰çš„CPUç”¨é‡ï¼Œå³1CPUå’Œ2CPUã€‚"),t("br"),s._v("\n~"),t("br"),s._v("\nå¦‚æœAå’ŒBéƒ½éœ€è¦æ›´å¤šçš„CPUèµ„æºï¼Œè€Œæ°å¥½æ­¤æ—¶ç³»ç»Ÿçš„å…¶å®ƒä»»åŠ¡é‡Šæ”¾äº†1.5CPUï¼Œé‚£ä¹ˆè¿™1.5CPUå°†æŒ‰ç…§Aå’ŒBçš„Requestså€¼çš„æ¯”ä¾‹"),t("code",[s._v("1:2")]),s._v("åˆ†é…ç»™Aå’ŒBï¼Œå³æœ€ç»ˆAå¯ä»¥ä½¿ç”¨1.5CPUï¼ŒBå¯ä»¥ä½¿ç”¨3CPUã€‚"),t("br"),s._v("\n~"),t("br"),s._v("\nå¦‚æœAçš„CPUç”¨é‡è¶…è¿‡äº†"),t("code",[s._v("Limits 10")]),s._v("çš„é…ç½®ç”¨é‡ï¼Œé‚£ä¹ˆcgroupsä¼šå¯¹Podä¸­å®¹å™¨çš„CPUç”¨é‡è¿›è¡Œé™æµï¼ˆThrottledï¼‰ã€‚"),t("br"),s._v("\n~"),t("br"),s._v("\nå¦‚æœAçš„CPUç”¨é‡æ²¡æœ‰é…ç½®"),t("code",[s._v("Limits 10")]),s._v("çš„é™åˆ¶ï¼Œé‚£ä¹ˆAå›å»å°è¯•æŠ¢å æ‰€æœ‰ç©ºé—²çš„CPUèµ„æºï¼ˆKubernetesä»1.2ç‰ˆæœ¬å¼€å§‹ï¼Œé»˜è®¤å¼€å¯--cpu-cfs-quotaå‚æ•°ï¼Œå› æ­¤åœ¨é»˜è®¤æƒ…å†µä¸‹å¿…é¡»é…ç½®Limitsï¼‰ã€‚")])])]),s._v(" "),t("h3",{attrs:{id:"ä¸å¯å‹ç¼©èµ„æº"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ä¸å¯å‹ç¼©èµ„æº"}},[s._v("#")]),s._v(" ä¸å¯å‹ç¼©èµ„æº")]),s._v(" "),t("p",[s._v("Kubernetesç›®å‰æ”¯æŒçš„ä¸å¯å‹ç¼©èµ„æºæ˜¯å†…å­˜ã€‚")]),s._v(" "),t("p",[s._v("Podå¯ä»¥å¾—åˆ°åœ¨Requestsä¸­é…ç½®çš„å†…å­˜ã€‚")]),s._v(" "),t("p",[s._v("å¦‚æœPodçš„å†…å­˜ç”¨é‡å°äºå®ƒçš„Requestsçš„é…ç½®ï¼Œé‚£ä¹ˆè¿™ä¸ªPodå¯ä»¥æ­£å¸¸è¿è¡Œï¼ˆé™¤éå‡ºç°ç‚’ä½œç³»ç»Ÿçº§åˆ«å†…å­˜ä¸è¶³ç­‰ä¸¥é‡é—®é¢˜ï¼‰ï¼›å¦‚æœPodçš„å†…å­˜å®¹é‡è¶…è¿‡äº†å®ƒçš„Requestsé…ç½®ï¼Œé‚£ä¹ˆè¿™ä¸ªPodæœ‰å¯èƒ½è¢«Kubernetes â€œæ€æ‰â€ã€‚")]),s._v(" "),t("details",{staticClass:"custom-block details"},[t("summary",[s._v("ç‚¹å‡»æŸ¥çœ‹ç¤ºä¾‹")]),s._v(" "),t("blockquote",[t("p",[s._v("æ¯”å¦‚PodAä½¿ç”¨äº†è¶…è¿‡Requestsè€Œä¸åˆ°Limitsçš„å†…å­˜é‡ï¼Œæ­¤æ—¶åŒä¸€æœºå™¨ä¸Šå¦ä¸€ä¸ªPodBä¹‹å‰åªä½¿ç”¨äº†è¿œå°‘äºè‡ªå·±çš„Requestså€¼çš„å†…å­˜ï¼Œæ­¤æ—¶ç¨‹åºå‹åŠ›å¢å¤§ï¼ŒPodBå‘ç³»ç»Ÿç”³è¯·çš„æ€»é‡ä¸è¶…è¿‡è‡ªå·±çš„Requestså€¼çš„å†…å­˜ï¼Œé‚£ä¹ˆKuberneteså¯èƒ½ä¼šç›´æ¥ â€œæ€æ‰â€ PodAã€‚"),t("br"),s._v("\n~"),t("br"),s._v("\nå¦å¤–ä¸€ç§æƒ…å†µæ˜¯PodAä½¿ç”¨äº†è¶…è¿‡Requestsè€Œä¸åˆ°Limitsçš„å†…å­˜ï¼Œæ­¤æ—¶Kuberneteså°†ä¸€ä¸ªæ–°çš„Podè°ƒåº¦åˆ°è¿™å°æœºå™¨ä¸Šï¼Œæ–°çš„Podéœ€è¦ä½¿ç”¨å†…å­˜ï¼Œè€Œåªæœ‰PodAä½¿ç”¨äº†è¶…è¿‡äº†è‡ªå·±Requestså€¼çš„å†…å­˜ï¼Œé‚£ä¹ˆKubernetesä¹Ÿå¯èƒ½ä¼š â€œæ€æ‰â€ PodAæ¥é‡Šæ”¾å†…å­˜èµ„æºã€‚")])])]),s._v(" "),t("p",[s._v("å¦‚æœæœ‰Podçš„å†…å­˜ç”¨é‡è¶…è¿‡äº†å®ƒLimitsè®¾ç½®ï¼Œé‚£ä¹ˆæ“ä½œç³»ç»Ÿå†…æ ¸ä¼š â€œæ€æ‰â€ Podæ‰€æœ‰å®¹å™¨çš„æ‰€æœ‰è¿›ç¨‹ä¸­"),t("code",[s._v("å†…å­˜ä½¿ç”¨é‡æœ€å¤š")]),s._v("çš„ä¸€ä¸ªï¼Œç›´åˆ°å†…å­˜ä¸è¶…è¿‡Limitsæ—¶ä¸ºæ­¢ã€‚")]),s._v(" "),t("h2",{attrs:{id:"å¯¹è°ƒåº¦ç­–ç•¥çš„å½±å“"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å¯¹è°ƒåº¦ç­–ç•¥çš„å½±å“"}},[s._v("#")]),s._v(" å¯¹è°ƒåº¦ç­–ç•¥çš„å½±å“")]),s._v(" "),t("ul",[t("li",[s._v("Kubernetesçš„kube-scheduleré€šè¿‡è®¡ç®—Podä¸­æ‰€æœ‰å®¹å™¨çš„Requestsçš„æ€»å’Œæ¥å†³å®šå¯¹Podçš„è°ƒåº¦ã€‚")]),s._v(" "),t("li",[s._v("ä¸ç®¡æ˜¯CPUè¿˜æ˜¯å†…å­˜ï¼ŒKubernetesè°ƒåº¦å™¨å’ŒKubeletèŠ‚ç‚¹ä»£ç†éƒ½ä¼šç¡®ä¿èŠ‚ç‚¹ä¸Šæ‰€æœ‰Podçš„Requestsæ€»å’Œä¸ä¼šè¶…è¿‡åœ¨è¯¥èŠ‚ç‚¹ä¸Šå¯åˆ†é…ç»™å®¹å™¨ä½¿ç”¨çš„èµ„æºå®¹é‡ä¸Šçº¿ã€‚")])]),s._v(" "),t("h2",{attrs:{id:"æœåŠ¡è´¨é‡ç­‰çº§-qos-classes"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#æœåŠ¡è´¨é‡ç­‰çº§-qos-classes"}},[s._v("#")]),s._v(" æœåŠ¡è´¨é‡ç­‰çº§ï¼ˆQoS Classesï¼‰")]),s._v(" "),t("p",[s._v("åœ¨ä¸€ä¸ªè¶…ç”¨ï¼ˆOver Committedï¼Œå®¹å™¨Limitsæ€»å’Œå¤§äºç³»ç»Ÿå®¹é‡ä¸Šçº¿ï¼‰çš„ç³»ç»Ÿä¸­ï¼Œå®¹å™¨è´Ÿè½½çš„æ³¢åŠ¨å¯èƒ½å¯¼è‡´æ“ä½œç³»ç»Ÿçš„èµ„æºä¸è¶³ï¼Œæœ€ç»ˆå¯¼è‡´éƒ¨åˆ†å®¹å™¨è¢« â€œæ€æ‰â€ã€‚")]),s._v(" "),t("p",[s._v("åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å½“ç„¶ä¼šå¸Œæœ›ä¼˜å…ˆ â€œæ€æ‰â€ é‚£äº›ä¸å¤ªé‡è¦çš„å®¹å™¨ï¼Œé‚£ä¹ˆå¦‚ä½•å¹³è¡¡é‡è¦ç¨‹åº¦å‘¢ï¼Ÿ")]),s._v(" "),t("p",[s._v("Kubernetesé‡å®¹å™¨åˆ’åˆ†æˆ3ä¸ªQoSç­‰çº§ï¼š")]),s._v(" "),t("ul",[t("li",[s._v("Guaranteedï¼ˆå®Œå…¨å¯é ï¼‰")]),s._v(" "),t("li",[s._v("Burstableï¼ˆå¼¹æ€§æ³¢åŠ¨ã€è¾ƒå¯é çš„ï¼‰")]),s._v(" "),t("li",[s._v("BestEffortï¼ˆå°½åŠ›è€Œä¸ºã€ä¸å¤ªå¯é çš„ï¼‰")])]),s._v(" "),t("p",[s._v("ä»ç†è®ºä¸Šæ¥è¯´ï¼ŒQoSçº§åˆ«åº”è¯¥åšä¸ºä¸€ä¸ªå•ç‹¬çš„å‚æ•°æ¥æä¾›APIï¼Œå¹¶ç”±ç”¨æˆ·å¯¹Podè¿›è¡Œé…ç½®ï¼Œè¿™ç§é…ç½®åº”è¯¥ä¸Requestså’ŒLimitsæ— å…³ã€‚")]),s._v(" "),t("p",[s._v("ä½†åœ¨å½“å‰ç‰ˆæœ¬çš„Kubernetesè®¾è®¡ä¸­ï¼Œä¸ºäº†ç®€åŒ–æ¨¡å¼åŠé¿å…å¼•å…¥å¤ªå¤šçš„å¤æ‚æ€§ï¼ŒQoSçº§åˆ«ç›´æ¥ç”±Requestså’ŒLimitså®šä¹‰ã€‚")]),s._v(" "),t("p",[s._v("åœ¨Kubernetesä¸­ï¼Œå®¹å™¨çš„QoSçº§åˆ«ç­‰äºå®¹å™¨æ‰€åœ¨Podçš„QoSçº§åˆ«ï¼Œè€ŒKubernetesçš„èµ„æºé…ç½®å®šäº†Podçš„ä¸‰ç§QoSçº§åˆ«ï¼š")]),s._v(" "),t("div",{staticClass:"custom-block danger"},[t("p",{staticClass:"custom-block-title"},[s._v("ä¸‰å¤§åˆ†ç±»ï¼š")]),s._v(" "),t("ul",[t("li",[s._v("Guaranteed")])]),s._v(" "),t("blockquote",[t("p",[s._v("å¦‚æœPodä¸­çš„æ‰€æœ‰å®¹å™¨å¯¹æ‰€æœ‰èµ„æºç±»å‹éƒ½å®šä¹‰äº†Requestså’ŒLimitsï¼Œå¹¶ä¸”æ‰€æœ‰å®¹å™¨çš„Requestså’ŒLimitsçš„å€¼éƒ½ç›¸ç­‰ï¼ˆä¸”éƒ½ä¸ä¸º0ï¼‰ï¼Œé‚£ä¹ˆè¯¥Podçš„QoSçº§åˆ«å°±æ˜¯Guaranteedã€‚")])]),s._v(" "),t("ul",[t("li",[s._v("BestEffort")])]),s._v(" "),t("blockquote",[t("p",[s._v("å¦‚æœPodä¸­æ‰€æœ‰å®¹å™¨éƒ½æœªå®šä¹‰èµ„æºé…ç½®ï¼ˆRequestså’ŒLimitséƒ½æœªå®šä¹‰ï¼‰ï¼Œé‚£ä¹ˆè¯¥Podçš„QoSçº§åˆ«å°±æ˜¯BestEffortã€‚")])]),s._v(" "),t("ul",[t("li",[s._v("Burstable")])]),s._v(" "),t("blockquote",[t("p",[s._v("å½“ä¸€ä¸ªPodå³ä¸ä¸º"),t("code",[s._v("Guaranteedçº§åˆ«")]),s._v("ï¼Œä¹Ÿä¸ä¸º"),t("code",[s._v("BestEffortçº§åˆ«")]),s._v("æ—¶ï¼Œè¯¥Podçš„QoSçº§åˆ«å°±æ˜¯Burstableã€‚Burstableçº§åˆ«çš„Podæ¶‰åŠä¸¤ç§æƒ…å†µï¼š")]),s._v(" "),t("ul",[t("li",[s._v("ç¬¬ä¸€ç§æƒ…å†µï¼šPodä¸­çš„ä¸€éƒ¨åˆ†å®¹å™¨åœ¨ä¸€ç§æˆ–å¤šç§èµ„æºç±»å‹çš„èµ„æºé…ç½®ä¸­å®šä¹‰äº†Requestså€¼å’ŒLimitså€¼ï¼ˆéƒ½ä¸ä¸º0ï¼‰ï¼Œä¸”Requestså€¼å°äºLimitså€¼ã€‚"),t("br"),s._v("\n~")]),s._v(" "),t("li",[s._v("ç¬¬äºŒç§æƒ…å†µï¼šPodä¸­çš„ä¸€éƒ¨åˆ†å®¹å™¨æœªå®šä¹‰èµ„æºé…ç½®ï¼ˆRequestså’ŒLimitséƒ½æœªå®šä¹‰ï¼‰ã€‚æ³¨æ„ï¼šåœ¨å®¹å™¨æœªå®šä¹‰Limitsæ—¶ï¼ŒLimitså€¼é»˜è®¤ç­‰äºèŠ‚ç‚¹èµ„æºå®¹é‡çš„ä¸Šé™ã€‚")])])])]),s._v(" "),t("h3",{attrs:{id:"kubernetes-qosçš„å·¥ä½œç‰¹ç‚¹"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#kubernetes-qosçš„å·¥ä½œç‰¹ç‚¹"}},[s._v("#")]),s._v(" Kubernetes QoSçš„å·¥ä½œç‰¹ç‚¹")]),s._v(" "),t("p",[s._v("åœ¨Podçš„CPU Requestsæ— æ³•å¾—åˆ°æ»¡è¶³ï¼ˆæ¯”å¦‚èŠ‚ç‚¹çš„ç³»ç»Ÿçº§ä»»åŠ¡å ç”¨è¿‡å¤šCPUï¼Œå¯¼è‡´æ— æ³•åˆ†é…è¶³å¤Ÿçš„CPUç»™å®¹å™¨ä½¿ç”¨ï¼‰æ—¶ï¼Œå®¹å™¨å¾—åˆ°çš„CPUä¼šè¢«å‹ç¼©é™æµã€‚")]),s._v(" "),t("p",[s._v("ç”±äºå†…å­˜æ˜¯ä¸å¯å‹ç¼©çš„èµ„æºï¼Œæ‰€ä»¥é’ˆå¯¹å†…å­˜èµ„æºç´§ç¼ºçš„æƒ…å†µï¼Œä¼šæŒ‰ç…§ä»¥ä¸‹é€»è¾‘å¤„ç†ã€‚")]),s._v(" "),t("p",[s._v("ï¼ˆ1ï¼‰ BestEffort Podçš„ä¼˜å…ˆçº§æœ€ä½ï¼Œåœ¨è¿™ç±»Podä¸­è¿è¡Œçš„è¿›ç¨‹ä¼šåœ¨ç³»ç»Ÿå†…å­˜ç´§ç¼ºæ—¶è¢«ç¬¬ä¸€ä¼˜å…ˆçº§ â€œæ€æ‰â€ã€‚å½“ç„¶ï¼Œä»å¦ä¸€ä¸ªè§’åº¦æ¥çœ‹ï¼ŒBestEffort Podç”±äºæ²¡æœ‰è®¾ç½®èµ„æºLimitsï¼Œæ‰€ä»¥åœ¨èµ„æºå……è¶³æ—¶ï¼Œä»–ä»¬å¯ä»¥å……åˆ†ä½¿ç”¨æ‰€æœ‰é—²ç½®èµ„æºã€‚")]),s._v(" "),t("p",[s._v("ï¼ˆ2ï¼‰ Burstable Podçš„ä¼˜å…ˆçº§å±…ä¸­ï¼Œè¿™ç±»Podåœ¨åˆå§‹æ—¶ä¼šè¢«åˆ†é…è¾ƒå°‘çš„å¯é èµ„æºï¼Œä½†å¯ä»¥æŒ‰éœ€ç”³è¯·æ›´å¤šçš„èµ„æºã€‚å½“ç„¶ï¼Œå¦‚æœæ•´ä¸ªç³»ç»Ÿå†…å­˜ç´§ç¼ºï¼ŒğŸˆ¶æ²¡æœ‰BestEffortå®¹å™¨å¯ä»¥è¢«æ€æ‰ä»¥é‡Šæ”¾èµ„æºï¼Œé‚£ä¹ˆè¿™ç±»Podä¸­çš„è¿›ç¨‹å¯èƒ½è¢« â€œæ€æ‰â€ ã€‚")]),s._v(" "),t("p",[s._v("ï¼ˆ3ï¼‰Guaranteed Podçš„ä¼˜å…ˆçº§æœ€é«˜ï¼Œè€Œä¸”ä¸€èˆ¬æƒ…å†µä¸‹è¿™ç±»Podåªè¦ä¸è¶…è¿‡å…¶èµ„æºLimitsçš„é™åˆ¶å°±ä¸ä¼šè¢« â€œæ€æ‰â€ã€‚å½“ç„¶ï¼Œå¦‚æœæ•´ä¸ªç³»ç»Ÿå†…å­˜ç´§ç¼ºï¼Œåˆæ²¡æœ‰å…¶å®ƒæ›´ä½ä¼˜å…ˆçº§çš„å®¹å™¨å¯ä»¥è¢« â€œæ€æ‰â€ ä»¥é‡Šæ”¾èµ„æºï¼Œé‚£ä¹ˆè¿™ç±»Podä¸­çš„è¿›ç¨‹ä¹Ÿå¯èƒ½ä¼šè¢« â€œæ€æ‰â€ã€‚")]),s._v(" "),t("h3",{attrs:{id:"oomè®¡åˆ†è§„åˆ™"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#oomè®¡åˆ†è§„åˆ™"}},[s._v("#")]),s._v(" OOMè®¡åˆ†è§„åˆ™")]),s._v(" "),t("p",[s._v("OOMï¼ˆOut Of Memoryï¼‰ç§¯åˆ†è§„åˆ™åŒ…æ‹¬å¦‚ä¸‹å†…å®¹ï¼š")]),s._v(" "),t("ul",[t("li",[s._v("OOMç§¯åˆ†çš„è®¡ç®—æ–¹æ³•ï¼š")])]),s._v(" "),t("div",{staticClass:"custom-block warning"},[t("p",{staticClass:"custom-block-title"},[s._v("è®¡ç®—æ–¹æ³•")]),s._v(" "),t("ul",[t("li",[s._v("è®¡ç®—è¿›ç¨‹æ‰€ä½¿ç”¨çš„çš„å†…å­˜åœ¨ç³»ç»Ÿä¸­æ‰€å çš„ç™¾åˆ†æ¯”ï¼Œå–å…¶ä¸­ä¸å«ç™¾åˆ†å·çš„æ•°å€¼ï¼Œå†ä¹˜ä»¥10ï¼Œè¯¥ç»“æœæ˜¯è¿›ç¨‹OOMçš„åŸºç¡€åˆ†ã€‚")]),s._v(" "),t("li"),s._v(" "),t("li",[s._v("è®²è¿›ç¨‹OOMåŸºç¡€åˆ†çš„åˆ†å€¼å†åŠ ä¸Šè¿™ä¸ªè¿›ç¨‹çš„oom_SCORE_ADJï¼ˆåˆ†æ•°è°ƒæ•´ï¼‰å€¼ï¼Œåšä¸ºè¿›ç¨‹OOMçš„æœ€ç»ˆåˆ†å€¼ï¼ˆé™¤rootå¯åŠ¨çš„è¿›ç¨‹å¤–ï¼‰ã€‚")]),s._v(" "),t("li"),s._v(" "),t("li",[s._v("åœ¨ç³»ç»Ÿå‘ç”ŸOOMæ—¶ï¼ŒOOM Killerä¼šä¼˜å…ˆâ€œæ€æ‰â€OOMè®¡åˆ†æ›´é«˜çš„è¿›ç¨‹.")])])]),s._v(" "),t("ul",[t("li",[t("p",[s._v("è¿›ç¨‹çš„OOMè®¡åˆ†çš„åŸºæœ¬åˆ†æ•°å€¼èŒƒå›´æ˜¯0~1000ï¼Œå¦‚æœAè¿›ç¨‹çš„è°ƒæ•´è‡³OOM_SCORE_ADJå‡å»Bè¿›ç¨‹çš„è°ƒæ•´å€¼çš„ç»“æœå¤§äº1000ï¼Œé‚£ä¹ˆAè¿›ç¨‹çš„OOMè®¡åˆ†æœ€ç»ˆå€¼å¿…ç„¶å¤§äºBè¿›ç¨‹ï¼Œä¼šæœ‰é™â€œæ€æ‰â€Aè¿›ç¨‹ã€‚")])]),s._v(" "),t("li",[t("p",[s._v("ä¸è®ºè°ƒæ•´OOM_SCORE_ADJå€¼ä¸ºå¤šå°‘ï¼Œä»»ä½•è¿›ç¨‹çš„æœ€ç»ˆåˆ†å€¼èŒƒå›´ä¹Ÿæ˜¯0~1000ã€‚")])])]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("QoSç­‰çº§")]),s._v(" "),t("th",[s._v("oom_score_adj")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("Guaranteed")]),s._v(" "),t("td",[s._v("-998")])]),s._v(" "),t("tr",[t("td",[s._v("Burstable")]),s._v(" "),t("td",[s._v("min(max(1,1000-(1000*memoryRequestBytes)/machineMemoryCapacityBytes),999)")])]),s._v(" "),t("tr",[t("td",[s._v("BestEffort")]),s._v(" "),t("td",[s._v("1000")])])])]),s._v(" "),t("p",[s._v("å¯¹è¡¨ä¸­çš„å†…å®¹è¯´æ˜å¦‚ä¸‹ï¼š")]),s._v(" "),t("details",{staticClass:"custom-block details"},[t("summary",[s._v("ç‚¹å‡»æŸ¥çœ‹è¯´æ˜è¯¦æƒ…")]),s._v(" "),t("ul",[t("li",[t("p",[s._v("BestEffort Podè®¾ç½®OOM_SCORE_ADJè°ƒæ•´å€¼ä¸º1000ï¼Œå› æ­¤BestEffort Podä¸­å®¹å™¨é‡Œæ‰€æœ‰è¿›ç¨‹çš„OOMæœ€ç»ˆåˆ†è‚¯å®šæ˜¯1000.")])]),s._v(" "),t("li",[t("p",[s._v("Guaranteed Podè®¾ç½®OOM_SCORT_ADJè°ƒæ•´å€¼ä¸º-998ï¼Œå› æ­¤Guaranteed POdä¸­å®¹å™¨é‡Œæ‰€æœ‰è¿›ç¨‹çš„OOMæœ€ç»ˆåˆ†ä¸€èˆ¬æ˜¯0æˆ–1ï¼ˆå› ä¸ºåŸºç¡€åˆ†ä¸å¯èƒ½æ˜¯1000ï¼‰ã€‚")])]),s._v(" "),t("li",[t("p",[s._v("å¯¹Burstable Podè§„åˆ™åˆ†æƒ…å†µè¯´æ˜ï¼š")]),s._v(" "),t("ul",[t("li",[s._v("å¦‚æœBurstable Podçš„å†…å­˜Requestsè¶…è¿‡ç³»ç»Ÿå¯ç”¨å†…å­˜çš„99.8%ï¼Œé‚£ä¹ˆè¿™ä¸ªPodçš„OOM_SCORE_ADJè°ƒæ•´å€¼å›ºå®šä¸º2ï¼›")]),s._v(" "),t("li",[s._v("å¦åˆ™ï¼Œè®¾ç½®OOM_SCORE_ADJè°ƒæ•´å€¼ä¸º"),t("code",[s._v("1000-10*(% of memory requested)")]),s._v("ï¼›")]),s._v(" "),t("li",[s._v("å¦‚æœå†…å®¹Requestsä¸º0ï¼Œé‚£ä¹ˆOOM__SCORE_ADJè°ƒæ•´å€¼å›ºå®šä¸º999.")]),s._v(" "),t("li",[s._v("è¿™æ ·çš„è§„åˆ™èƒ½ç¡®ä¿OOM_SCORE_ADJè°ƒæ•´å€¼çš„èŒƒå›´ä¸º2~999ï¼Œè€ŒBurstable Podä¸­æ‰€æœ‰è¿›ç¨‹çš„OOMæœ€ç»ˆåˆ†æ•°èŒƒå›´ä¸º2~1000.")]),s._v(" "),t("li",[s._v("Burstable Podè¿›ç¨‹çš„OOMæœ€ç»ˆåˆ†æ•°å§‹ç»ˆå¤§äºCuaranteed Podçš„è¿›ç¨‹å¾—åˆ†ï¼Œå› æ­¤ä»–ä»¬ä¼šè¢«ä¼˜å…ˆâ€œæ€æ‰â€ã€‚")]),s._v(" "),t("li",[s._v("å¦‚æœä¸€ä¸ªBurstable Podä½¿ç”¨çš„å†…å­˜æ¯”ä»–çš„å†…å­˜Requestså°‘ï¼Œé‚£ä¹ˆå¯ä»¥è‚¯å®šçš„äº‹ï¼Œä»–çš„æ‰€æœ‰è¿›ç¨‹çš„OOMæœ€ç»ˆåˆ†æ•°ä¼šå°äº1000ï¼Œæ­¤æ—¶èƒ½ç¡®ä¿å®ƒçš„ä¼˜å…ˆçº§é«˜äºBestEffort Podã€‚")]),s._v(" "),t("li",[s._v("å¦‚æœåœ¨ä¸€ä¸ªBurstable Podçš„æŸä¸ªå®¹å™¨ä¸­æŸä¸ªè¿›ç¨‹ä½¿ç”¨çš„å†…å­˜æ¯”å®¹å™¨çš„Requestså€¼é«˜ï¼Œé‚£ä¹ˆè¿™ä¸ªè¿›ç¨‹çš„OOMæœ€ç»ˆåˆ†æ•°å°±ä¼šæ˜¯1000ï¼Œå¦åˆ™ä»–çš„OOMæœ€ç»ˆåˆ†æ•°ä¼šå°äº1000ã€‚")]),s._v(" "),t("li",[s._v("å‡è®¾åœ¨ä¸‹é¢çš„å®¹å™¨ä¸­æœ‰ä¸€ä¸ªå ç”¨å†…å­˜éå¸¸å¤§çš„è¿›ç¨‹ï¼Œé‚£ä¹ˆå½“ä¸€ä¸ªä½¿ç”¨å†…å­˜è¶…è¿‡å…¶Requestsçš„Burstable Podä¸å¦å¤–ä¸€ä¸ªä½¿ç”¨å†…å­˜å°‘äºå…¶Requestsçš„Burstable Podå‘ç”Ÿå†…å­˜ç«äº‰å†²çªæ—¶ï¼Œå‰è€…çš„è¿›ç¨‹ä¼šè¢«ç³»ç»Ÿâ€œæ€æ‰â€ã€‚")]),s._v(" "),t("li",[s._v("å¦‚æœåœ¨ä¸€ä¸ªBurstable Podå†…éƒ¨æœ‰å¤šä¸ªè¿›ç¨‹çš„å¤šä¸ªå®¹å™¨å‘ç”Ÿå†…å­˜ç«äº‰å†²çªï¼Œé‚£ä¹ˆæ­¤æ—¶OOMè¯„åˆ†åªèƒ½åšä¸ºå‚è€ƒï¼Œä¸èƒ½ä¿è¯å®Œå…¨æŒ‰ç…§èµ„æºé…ç½®çš„å®šä¹‰æ¥æ‰§è¡ŒOOM Killã€‚")])])]),s._v(" "),t("li",[t("p",[s._v("OOMè¿˜æœ‰ä¸€äº›ç‰¹æ®Šçš„è®¡åˆ†è§„åˆ™ï¼š")]),s._v(" "),t("ul",[t("li",[s._v("kubeletè¿›ç¨‹å’ŒDockerè¿›ç¨‹çš„è°ƒæ•´å€¼OOM_SOCRE_ADJå§‹ç»ˆä¸º-998ã€‚")]),s._v(" "),t("li",[s._v("å¦‚æœé…ç½®è¿›ç¨‹è°ƒæ•´å€¼OOM_SCORE_ADJä¸º-999ï¼Œé‚£ä¹ˆè¿™ç±»è¿›ç¨‹ä¸ä¼šè¢«OOM Killerâ€œæ€æ‰â€ã€‚")])])])])]),s._v(" "),t("h3",{attrs:{id:"qosçš„æ¼”è¿›"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#qosçš„æ¼”è¿›"}},[s._v("#")]),s._v(" QoSçš„æ¼”è¿›")]),s._v(" "),t("p",[s._v("ç›®å‰KubernetesåŸºäºQoSçš„æ½®æ¶Œæœºåˆ¶æ—¥è¶‹å®Œå–„ï¼Œä½†è¿˜æœ‰ä¸€äº›é™åˆ¶ã€‚")]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("ä¸è¶³ä¹‹å¤„")]),s._v(" "),t("ul",[t("li",[s._v("ä¸æ”¯æŒå†…å­˜Swapï¼Œå½“å‰çš„QoSç­–ç•¥éƒ½å‡å®šäº†ä¸»æœºä¸å¯åŠ¨å†…å­˜swapï¼ŒKubernetesä»1.8ç‰ˆæœ¬å¼€å§‹é»˜è®¤å…³é—­Swapç‰¹æ€§ï¼Œå¦‚æœä¸»æœºå¯åŠ¨äº†SwapåŠŸèƒ½ï¼Œä¸Šé¢çš„QoSç­–ç•¥å°±å¯èƒ½å¤±æ•ˆã€‚")]),s._v(" "),t("li"),s._v(" "),t("li",[s._v("ç¼ºä¹æ›´ä¸°å¯Œçš„QoSç­–ç•¥ï¼Œå½“å‰çš„QoSç­–ç•¥éƒ½æ˜¯åŸºäºPodçš„ï¼ˆRequestså’ŒLimitsï¼‰æ¥å®šä¹‰çš„ã€‚ç¤¾åŒºæœ‰è€ƒè™‘è¿‡å¼•å…¥è‡ªå®šä¹‰QoSçš„åŠŸèƒ½ï¼Œä½†æ˜¯è¿™ä¸€å—ç›®å‰è¿˜ä¸å¤ªæ˜æœ—ï¼Œç­‰å¾…åç»­æŒç»­å…³æ³¨äº†è§£æ¸…æ¥šåå†è¿›è¡Œå†…å®¹çš„è¿½åŠ ã€‚")])])]),s._v(" "),t("blockquote",[t("p",[s._v("ï¼ˆåˆ°æ­¤ä¸ºæ­¢ï¼ŒResource QoS åŸç†åˆ†æå®Œæ¯•ï¼‰")])]),s._v(" "),t("p",[t("br"),t("br"),t("br")]),t("hr"),t("br"),t("br"),t("br"),t("p"),s._v(" "),t("h4",{attrs:{id:"å¸®åŠ©ä½œè€…æ”¹è¿›æ–‡æ¡£"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#å¸®åŠ©ä½œè€…æ”¹è¿›æ–‡æ¡£"}},[s._v("#")]),s._v(" å¸®åŠ©ä½œè€…æ”¹è¿›æ–‡æ¡£")]),s._v(" "),t("p",[s._v("å¦‚æœæ‚¨å–œæ¬¢è¿™ç¯‡æ–‡æ¡£ï¼Œæƒ³è®©å®ƒå˜å¾—æ›´å¥½ï¼Œæ‚¨å¯ä»¥ï¼š")]),s._v(" "),t("ul",[t("li",[s._v("æ¨èè¿™ç¯‡æ–‡æ¡£ï¼Œè®©æ›´å¤šçš„äººçŸ¥é“ã€‚")]),s._v(" "),t("li",[s._v("ç»™ä½œè€…åé¦ˆå’Œå»ºè®®ï¼š"),t("em",[t("em",[t("a",{attrs:{href:"mailto:tianye3223@gmail.com"}},[s._v("tianye3223@gmail.com")])])])])]),s._v(" "),t("p",[t("br"),t("br"),t("br"),t("br"),t("br")])])}),[],!1,null,null,null);e.default=v.exports}}]);